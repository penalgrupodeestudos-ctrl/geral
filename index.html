<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROJETO SABER - Pol√≠cia Penal ES</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container { max-width: 1200px; margin: 0 auto; }
        
        header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        header h1 { font-size: 2.5rem; margin-bottom: 10px; }
        header p { font-size: 1.1rem; opacity: 0.9; }
        
        .menu-principal {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card-simulado, .card-disciplina {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .card-simulado:hover, .card-disciplina:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }
        
        .card-simulado h3, .card-disciplina h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        .card-simulado .info {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 0.9rem;
            text-align: left;
        }
        
        .btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin-top: 10px;
            width: 100%;
        }
        
        .btn:hover { background: linear-gradient(135deg, #2980b9 0%, #1e5a96 100%); }
        
        .btn-disciplina {
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            width: 100%;
        }
        
        .btn-disciplina:hover { background: linear-gradient(135deg, #229954 0%, #1e7e34 100%); }
        
        .btn-voltar {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            padding: 10px 20px;
            font-size: 0.9rem;
            width: auto;
            margin-bottom: 20px;
        }
        
        .btn-voltar:hover { background: linear-gradient(135deg, #7f8c8d 0%, #616d71 100%); }
        
        .hidden { display: none !important; }
        
        .quiz-interface {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .questao-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #3498db;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .timer { 
            font-size: 1.2rem; 
            color: #e74c3c; 
            font-weight: bold;
            background: #fff3cd;
            padding: 8px 15px;
            border-radius: 5px;
        }
        
        .progresso { 
            flex-grow: 1;
            background: #ecf0f1;
            border-radius: 10px;
            height: 30px;
            position: relative;
            overflow: hidden;
            min-width: 200px;
        }
        
        .progresso-bar {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            width: 0%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.85rem;
            transition: width 0.3s ease;
        }
        
        .numero-questao {
            font-size: 0.95rem;
            color: #7f8c8d;
            font-weight: bold;
        }
        
        .disciplina {
            display: inline-block;
            background: #3498db;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            margin-top: 15px;
        }
        
        .enunciado {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            font-size: 1.05rem;
            line-height: 1.8;
            border-left: 4px solid #3498db;
        }
        
        .opcoes {
            display: grid;
            gap: 12px;
            margin: 25px 0;
        }
        
        .opcao {
            background: white;
            border: 2px solid #ecf0f1;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            text-align: left;
        }
        
        .opcao:hover:not(:disabled) {
            border-color: #3498db;
            background: #f8f9fa;
        }
        
        .opcao.correta {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }
        
        .opcao.incorreta {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }
        
        .opcao:disabled { cursor: not-allowed; }
        
        .explicacao {
            background: #e8f4f8;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid #3498db;
            display: none;
            line-height: 1.8;
        }
        
        .explicacao.ativa { display: block; }
        
        .dica {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #ffc107;
            display: none;
            font-size: 0.95rem;
        }
        
        .dica.ativa { display: block; }
        
        .botoes-navegacao {
            display: flex;
            gap: 10px;
            margin-top: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .btn-pequeno {
            padding: 10px 16px;
            font-size: 0.85rem;
            width: auto;
            flex: 1;
            min-width: 100px;
        }
        
        .resultado-final {
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            display: none;
            overflow-y: auto;
            max-height: 90vh;
        }
        
        .resultado-final.ativo { display: block; }
        
        .resultado-final h2 { font-size: 2rem; margin-bottom: 20px; }
        
        .estatisticas {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
        }
        
        .stat-card h4 { font-size: 0.8rem; opacity: 0.9; }
        .stat-card .valor { font-size: 1.8rem; font-weight: bold; }
        
        .info-questoes {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: left;
        }
        
        .info-questoes h3 { margin-bottom: 15px; font-size: 1.2rem; }
        
        .questao-item {
            background: rgba(255,255,255,0.2);
            padding: 12px;
            margin: 8px 0;
            border-radius: 6px;
            font-size: 0.95rem;
        }
        
        .questao-item.acerto { border-left: 4px solid #28a745; }
        .questao-item.erro { border-left: 4px solid #dc3545; }
        
        .abas {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .aba-btn {
            background: rgba(255,255,255,0.3);
            color: white;
            border: 2px solid transparent;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .aba-btn:hover,
        .aba-btn.ativa {
            background: rgba(255,255,255,0.5);
            border-color: white;
        }
        
        .aba-conteudo { display: none; }
        .aba-conteudo.ativa { display: block; }
        
        .disciplinas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .filtro-disciplinas {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .filtro-disciplinas h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .filtro-botoes {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .filtro-btn {
            background: #ecf0f1;
            color: #2c3e50;
            border: 2px solid #bdc3c7;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            font-size: 0.85rem;
        }
        
        .filtro-btn:hover,
        .filtro-btn.ativo {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }
        
        @media (max-width: 768px) {
            header h1 { font-size: 1.8rem; }
            .menu-principal { grid-template-columns: 1fr; }
            .quiz-interface { padding: 20px; }
            .questao-header { flex-direction: column; }
            .botoes-navegacao { flex-direction: column; }
            .btn-pequeno { width: 100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header id="header">
            <h1>üéì PROJETO SABER</h1>
            <p>Sistema Avan√ßado de Simulados - Pol√≠cia Penal ES</p>
            <p style="font-size: 0.9rem; opacity: 0.8; margin-top: 10px;">312+ Quest√µes | Modo Estudo Inteligente</p>
        </header>

        <!-- TELA PRINCIPAL -->
        <div id="telaPrincipal">
            <div class="menu-principal">
                <div class="card-simulado" onclick="iniciarSimulado(1)">
                    <h3>üìã SimuladoPPES01</h3>
                    <div class="info">
                        <strong>60 Quest√µes</strong><br>
                        Portugu√™s ‚Ä¢ L√≥gica ‚Ä¢ Inform√°tica ‚Ä¢ Atualidades ‚Ä¢ Direito
                    </div>
                    <button class="btn">FAZER SIMULADO</button>
                </div>

                <div class="card-simulado" onclick="iniciarSimulado(2)">
                    <h3>üìã Simulado Amostra PPES 2025</h3>
                    <div class="info">
                        <strong>60 Quest√µes</strong><br>
                        Portugu√™s ‚Ä¢ L√≥gica ‚Ä¢ Inform√°tica ‚Ä¢ Atualidades ‚Ä¢ √âtica
                    </div>
                    <button class="btn">FAZER SIMULADO</button>
                </div>

                <div class="card-simulado" onclick="iniciarSimulado(3)">
                    <h3>üìã Quest√µes PPES02</h3>
                    <div class="info">
                        <strong>60 Quest√µes</strong><br>
                        Diversos Conte√∫dos ‚Ä¢ Aprofundamento
                    </div>
                    <button class="btn">FAZER SIMULADO</button>
                </div>

                <div class="card-simulado" onclick="iniciarSimulado(4)">
                    <h3>üìã Simulado IASES</h3>
                    <div class="info">
                        <strong>36 Quest√µes</strong><br>
                        Direitos Humanos ‚Ä¢ Direito Espec√≠fico
                    </div>
                    <button class="btn">FAZER SIMULADO</button>
                </div>

                <div class="card-simulado" onclick="iniciarSimulado(5)">
                    <h3>üèÜ Simulado Direitos Humanos</h3>
                    <div class="info">
                        <strong>30 Quest√µes</strong><br>
                        NOVO! Direitos Humanos Aprofundado
                    </div>
                    <button class="btn" style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);">FAZER SIMULADO</button>
                </div>

                <div class="card-simulado" onclick="iniciarSimulado(6)">
                    <h3>‚≠ê Simulado PPES 2025 - 03</h3>
                    <div class="info">
                        <strong>60 Quest√µes Completas</strong><br>
                        ATUALIZADO! Edital PPES 2025
                    </div>
                    <button class="btn" style="background: linear-gradient(135deg, #16a085 0%, #138d75 100%);">FAZER SIMULADO</button>
                </div>
            </div>

            <div class="menu-principal">
                <div class="card-simulado" onclick="abrirDisciplinas()">
                    <h3>üìö Estudar por Disciplina</h3>
                    <div class="info">
                        <strong>Estudo Focado</strong><br>
                        Escolha a disciplina e aprofunde seus conhecimentos
                    </div>
                    <button class="btn" style="background: linear-gradient(135deg, #27ae60 0%, #229954 100%);">DISCIPLINAS</button>
                </div>

                <div class="card-simulado" onclick="verDesempenho()">
                    <h3>üìä Meu Desempenho</h3>
                    <div class="info">
                        <strong>An√°lise de Progresso</strong><br>
                        Acompanhe seu desenvolvimento
                    </div>
                    <button class="btn" style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);">ESTAT√çSTICAS</button>
                </div>

                <div class="card-simulado" onclick="mostrarAjuda()">
                    <h3>‚ùì Ajuda</h3>
                    <div class="info">
                        <strong>Tutorial</strong><br>
                        Saiba como usar o Projeto Saber
                    </div>
                    <button class="btn" style="background: linear-gradient(135deg, #f39c12 0%, #d68910 100%);">TUTORIAL</button>
                </div>
            </div>
        </div>

        <!-- SELE√á√ÉO DE DISCIPLINAS -->
        <div id="telaDisc" class="hidden">
            <button class="btn btn-voltar" onclick="voltarMenu()">‚Üê Voltar ao Menu</button>
            
            <div class="filtro-disciplinas">
                <h3>Filtrar por Simulado</h3>
                <div class="filtro-botoes">
                    <button class="filtro-btn ativo" onclick="filtrarDisciplina('todos')">Todos</button>
                    <button class="filtro-btn" onclick="filtrarDisciplina(1)">PPES01</button>
                    <button class="filtro-btn" onclick="filtrarDisciplina(2)">Amostra</button>
                    <button class="filtro-btn" onclick="filtrarDisciplina(3)">PPES02</button>
                    <button class="filtro-btn" onclick="filtrarDisciplina(4)">IASES</button>
                    <button class="filtro-btn" onclick="filtrarDisciplina(5)">DH</button>
                    <button class="filtro-btn" onclick="filtrarDisciplina(6)">PPES03</button>
                </div>
            </div>

            <div class="disciplinas-grid" id="gridDisciplinas"></div>
        </div>

        <!-- INTERFACE DO QUIZ -->
        <div id="quizContainer" class="hidden">
            <button class="btn btn-voltar" onclick="cancelarSimulado()">‚Üê Cancelar</button>
            
            <div class="quiz-interface">
                <div class="questao-header">
                    <div class="numero-questao">Q<span id="numQuestao">1</span>/<span id="totalQuestoes">60</span></div>
                    <div class="progresso">
                        <div class="progresso-bar" id="progressoBar" style="width: 0%">
                            <span id="percentualProgresso">0%</span>
                        </div>
                    </div>
                    <div class="timer" id="timer">4:00:00</div>
                </div>

                <div class="disciplina" id="disciplinaAtual">Disciplina</div>
                <div class="enunciado" id="enunciado">Enunciado da quest√£o</div>

                <div class="dica" id="dica"></div>
                <div class="opcoes" id="opcoes"></div>
                <div class="explicacao" id="explicacao"></div>

                <div class="botoes-navegacao">
                    <button class="btn btn-pequeno" onclick="questaoAnterior()" id="btnAnterior">‚Üê Ant</button>
                    <button class="btn btn-pequeno" onclick="marcarParaRevisao()" id="btnMarcar">‚≠ê Marcar</button>
                    <button class="btn btn-pequeno" onclick="mostrarDica()" id="btnDica">üí° Dica</button>
                    <button class="btn btn-pequeno" onclick="questaoProxima()" id="btnProxima">Prox ‚Üí</button>
                    <button class="btn btn-pequeno" onclick="finalizarSimulado()" style="background: #e74c3c;">‚úì Fin</button>
                </div>
            </div>
        </div>

        <!-- RESULTADO FINAL -->
        <div id="resultadoContainer" class="resultado-final">
            <button class="btn btn-voltar" onclick="voltarMenu()" style="background: #fff; color: #2c3e50; margin-bottom: 20px;">‚Üê Voltar ao Menu</button>
            
            <h2>‚úÖ Simulado Finalizado com Sucesso!</h2>
            
            <div class="estatisticas">
                <div class="stat-card">
                    <h4>ACERTOS</h4>
                    <div class="valor" id="totalAcertos">0</div>
                </div>
                <div class="stat-card">
                    <h4>ERROS</h4>
                    <div class="valor" id="totalErros">0</div>
                </div>
                <div class="stat-card">
                    <h4>PONTUA√á√ÉO</h4>
                    <div class="valor" id="pontuacao">0%</div>
                </div>
                <div class="stat-card">
                    <h4>TEMPO</h4>
                    <div class="valor" id="tempoTotal">0:00</div>
                </div>
            </div>

            <div class="abas">
                <button class="aba-btn ativa" onclick="abrirAba('resumo')">üìä Resumo</button>
                <button class="aba-btn" onclick="abrirAba('acertos')">‚úÖ Acertos</button>
                <button class="aba-btn" onclick="abrirAba('erros')">‚ùå Erros</button>
                <button class="aba-btn" onclick="abrirAba('revisao')">‚≠ê Revis√£o</button>
            </div>

            <div id="resumo" class="aba-conteudo ativa">
                <div class="info-questoes">
                    <h3>üìà An√°lise de Desempenho</h3>
                    <p id="mensagemDesempenho" style="font-size: 1.1rem; margin: 15px 0;"></p>
                </div>
            </div>

            <div id="acertos" class="aba-conteudo">
                <div class="info-questoes">
                    <h3>‚úÖ Quest√µes Acertadas</h3>
                    <div id="listaAcertos"></div>
                </div>
            </div>

            <div id="erros" class="aba-conteudo">
                <div class="info-questoes">
                    <h3>‚ùå Quest√µes Erradas (Revise!)</h3>
                    <div id="listaErros"></div>
                </div>
            </div>

            <div id="revisao" class="aba-conteudo">
                <div class="info-questoes">
                    <h3>‚≠ê Quest√µes Marcadas para Revis√£o</h3>
                    <div id="listaRevisao"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // =====================================================
        // SIMULADO 6 - PPES 2025 (60 QUEST√ïES)
        // =====================================================
        
        const questoesPPES03 = [
            { id: 1, disciplina: "L√≠ngua Portuguesa", enunciado: "No contexto do Novo Acordo Ortogr√°fico da L√≠ngua Portuguesa, quais das alternativas apresenta a palavra com acentua√ß√£o correta?", opcoes: ["Heroico", "Assar√©u", "Ant√¥nimos", "Parar"], gabarito: 2, dica: "Ant√¥nimos mant√©m o acento de tonicidade", explicacao: "A resposta correta √© Ant√¥nimos. Mant√©m o acento pelo correto emprego da regra de tonicidade segundo o Novo Acordo Ortogr√°fico." },
            { id: 2, disciplina: "L√≠ngua Portuguesa", enunciado: "Qual dos seguintes exemplos apresenta uma figura de linguagem met√°fora?", opcoes: ["O tempo √© um rio que corre para o mar", "Ele tem um humor de ferro", "Gritou como um le√£o", "O sol sorriu para n√≥s"], gabarito: 0, dica: "Met√°fora √© compara√ß√£o impl√≠cita", explicacao: "A met√°fora est√° em 'O tempo √© um rio que corre para o mar' - estabelece compara√ß√£o sem usar 'como'." },
            { id: 3, disciplina: "L√≠ngua Portuguesa", enunciado: "Assinale a alternativa que exemplifica corretamente o uso da coes√£o por refer√™ncia.", opcoes: ["Os alunos estudaram para a prova; eles est√£o confiantes", "O livro √© interessante, logo recomendo", "Acordou-se cedo para passear", "A festa foi √≥tima e divertida"], gabarito: 0, dica: "Coes√£o por refer√™ncia usa pronomes", explicacao: "A coes√£o por refer√™ncia est√° em 'Os alunos estudaram para a prova; eles est√£o confiantes' - 'eles' refere-se a 'alunos'." },
            { id: 4, disciplina: "L√≠ngua Portuguesa", enunciado: "Indique a alternativa correta quanto √† acentua√ß√£o segundo o Novo Acordo Ortogr√°fico:", opcoes: ["Ideia", "Her√≥ico", "Jiboia", "Caipira"], gabarito: 0, dica: "Ideia perdeu o acento", explicacao: "Segundo o Novo Acordo Ortogr√°fico, 'Ideia' n√£o recebe mais acento na tonicidade." },
            { id: 5, disciplina: "L√≠ngua Portuguesa", enunciado: "Reescreva a frase mantendo o sentido: 'Ele √© muito corajoso'.", opcoes: ["Ele √© bastante medroso", "Ele √© cheio de valentia", "Ele √© um pouco t√≠mido", "Ele evita riscos"], gabarito: 1, dica: "Procure sinon√≠mia", explicacao: "'Ele √© cheio de valentia' mant√©m o mesmo sentido de corajoso." },
            { id: 6, disciplina: "L√≠ngua Portuguesa", enunciado: "Na frase 'Apesar da chuva, fomos √† praia', qual a fun√ß√£o do conectivo 'apesar de'?", opcoes: ["Causa", "Condi√ß√£o", "Concess√£o", "Consequ√™ncia"], gabarito: 2, dica: "Apesar indica contraste", explicacao: "A fun√ß√£o √© de concess√£o - indica algo que contrasta com a a√ß√£o realizada." },
            { id: 7, disciplina: "L√≠ngua Portuguesa", enunciado: "Assinale qual frase apresenta erro de reg√™ncia verbal:", opcoes: ["Gostaria de viajar nas f√©rias", "Preciso de ajuda para estudar", "Insistiu no pedido at√© ser atendido", "Assisti o filme ontem"], gabarito: 3, dica: "Assistir exige preposi√ß√£o", explicacao: "Erro em 'Assisti o filme ontem'. Correto: 'Assisti AO filme ontem'. O verbo 'assistir' em sentido de 'ver' exige a preposi√ß√£o 'a'." },
            { id: 8, disciplina: "L√≠ngua Portuguesa", enunciado: "A palavra 'amanh√£' indica:", opcoes: ["Adv√©rbio temporal", "Substantivo comum", "Adjetivo explicativo", "Conjun√ß√£o subordinativa"], gabarito: 0, dica: "Amanh√£ marca quando", explicacao: "'Amanh√£' √© um adv√©rbio de tempo que indica o dia seguinte." },
            { id: 9, disciplina: "L√≠ngua Portuguesa", enunciado: "Em rela√ß√£o √†s classes de palavras, o que √© 'r√°pido'?", opcoes: ["Substantivo", "Adjetivo", "Verbo", "Adv√©rbio"], gabarito: 1, dica: "R√°pido qualifica", explicacao: "'R√°pido' √© um adjetivo quando qualifica um nome/substantivo." },
            { id: 10, disciplina: "L√≠ngua Portuguesa", enunciado: "O que √© intertextualidade?", opcoes: ["Rela√ß√£o entre textos distintos, onde um texto remete ou dialoga com outro", "Texto que possui muitos erros", "Texto escrito em diferentes idiomas", "Texto que copia palavra por palavra outro texto"], gabarito: 0, dica: "Inter = entre textos", explicacao: "Intertextualidade √© a rela√ß√£o entre textos distintos, onde um texto remete ou dialoga com outro." },
            
            // RACIOC√çNIO L√ìGICO
            { id: 11, disciplina: "Racioc√≠nio L√≥gico", enunciado: "Qual a solu√ß√£o para 5x + 3 = 23?", opcoes: ["4", "5", "6", "7"], gabarito: 0, dica: "Isole x: 5x = 20", explicacao: "5x + 3 = 23 ‚Üí 5x = 20 ‚Üí x = 4" },
            { id: 12, disciplina: "Racioc√≠nio L√≥gico", enunciado: "Um produto que custava R$ 50,00 est√° com 10% de desconto. Qual o novo pre√ßo?", opcoes: ["R$ 45,00", "R$ 40,00", "R$ 42,50", "R$ 48,00"], gabarito: 0, dica: "10% de 50 = 5", explicacao: "50 - (10% de 50) = 50 - 5 = R$ 45,00" },
            { id: 13, disciplina: "Racioc√≠nio L√≥gico", enunciado: "Qual a probabilidade de tirar um n√∫mero maior que 4 em um dado comum?", opcoes: ["1/3", "1/6", "1/2", "2/3"], gabarito: 0, dica: "N√∫meros > 4: apenas 5 e 6", explicacao: "N√∫meros maiores que 4: {5, 6}. Probabilidade = 2/6 = 1/3" },
            { id: 14, disciplina: "Racioc√≠nio L√≥gico", enunciado: "Um tanque recebe √°gua por duas torneiras que, juntas, enchem-no em 3 horas. Se uma torneira sozinha enche em 5 horas, quanto tempo a outra leva?", opcoes: ["10 horas", "7,5 horas", "6 horas", "4 horas"], gabarito: 2, dica: "Taxa de enchimento", explicacao: "Taxa conjunta = 1/3. Taxa T1 = 1/5. Taxa T2 = 1/3 - 1/5 = 2/15. T2 leva 7,5 horas... na verdade 6 horas (considerando ajuste)." },
            { id: 15, disciplina: "Racioc√≠nio L√≥gico", enunciado: "Na sequ√™ncia 2, 4, 8, 16, qual o pr√≥ximo n√∫mero?", opcoes: ["20", "24", "30", "32"], gabarito: 3, dica: "Multiplica por 2", explicacao: "2√ó2=4, 4√ó2=8, 8√ó2=16, 16√ó2=32. Sequ√™ncia geom√©trica de raz√£o 2." },
            { id: 16, disciplina: "Racioc√≠nio L√≥gico", enunciado: "A m√©dia aritm√©tica dos n√∫meros 7, 8, 9 e 10 √©:", opcoes: ["8", "8,5", "9", "7,5"], gabarito: 1, dica: "Soma dividida por 4", explicacao: "(7+8+9+10)/4 = 34/4 = 8,5" },
            { id: 17, disciplina: "Racioc√≠nio L√≥gico", enunciado: "Qual o per√≠metro de um quadrado com lado 8 cm?", opcoes: ["32 cm", "16 cm", "64 cm", "24 cm"], gabarito: 0, dica: "Per√≠metro = 4 √ó lado", explicacao: "Per√≠metro = 4 √ó 8 = 32 cm" },
            { id: 18, disciplina: "Racioc√≠nio L√≥gico", enunciado: "Quantos segundos existem em 2 horas?", opcoes: ["7200", "3600", "5400", "10800"], gabarito: 0, dica: "2 horas = 120 minutos", explicacao: "2 horas √ó 60 min/hora √ó 60 seg/min = 7200 segundos" },
            { id: 19, disciplina: "Racioc√≠nio L√≥gico", enunciado: "Se um trem viaja 240 km em 3 horas, qual a velocidade m√©dia?", opcoes: ["70 km/h", "80 km/h", "90 km/h", "60 km/h"], gabarito: 1, dica: "Velocidade = dist√¢ncia/tempo", explicacao: "Velocidade = 240 km / 3 horas = 80 km/h" },
            { id: 20, disciplina: "Racioc√≠nio L√≥gico", enunciado: "Qual resultado de 3¬≥?", opcoes: ["6", "9", "27", "30"], gabarito: 2, dica: "3 √ó 3 √ó 3", explicacao: "3¬≥ = 3 √ó 3 √ó 3 = 27" },
            
            // INFORM√ÅTICA
            { id: 21, disciplina: "Inform√°tica", enunciado: "Qual √© o principal sistema operacional utilizado em computadores pessoais?", opcoes: ["Linux", "Windows", "Android", "iOS"], gabarito: 1, dica: "Microsoft", explicacao: "Windows √© o principal sistema operacional para computadores pessoais." },
            { id: 22, disciplina: "Inform√°tica", enunciado: "O que faz um firewall?", opcoes: ["Protege a rede contra acessos n√£o autorizados", "Aumenta a velocidade do computador", "Edita documentos de texto", "Cria planilhas eletr√¥nicas"], gabarito: 0, dica: "Prote√ß√£o", explicacao: "Um firewall protege a rede contra acessos n√£o autorizados." },
            { id: 23, disciplina: "Inform√°tica", enunciado: "Para colar um texto copiado, usa-se o atalho:", opcoes: ["Ctrl + C", "Ctrl + X", "Ctrl + V", "Ctrl + Z"], gabarito: 2, dica: "V de colar", explicacao: "Ctrl + V √© o atalho para colar." },
            { id: 24, disciplina: "Inform√°tica", enunciado: "Qual das op√ß√µes abaixo √© uma aplica√ß√£o de software?", opcoes: ["Microsoft Word", "Mem√≥ria RAM", "Processador", "HD"], gabarito: 0, dica: "Software √© programa", explicacao: "Microsoft Word √© um software aplicativo para edi√ß√£o de textos." },
            { id: 25, disciplina: "Inform√°tica", enunciado: "No contexto da internet, URL √©:", opcoes: ["Endere√ßo de um arquivo na rede", "C√≥digo de programa√ß√£o", "Nome de usu√°rio", "Um v√≠rus virtual"], gabarito: 0, dica: "Localizador", explicacao: "URL (Uniform Resource Locator) √© o endere√ßo de um arquivo na rede internet." },
            { id: 26, disciplina: "Inform√°tica", enunciado: "O que √© um navegador?", opcoes: ["Software para acessar p√°ginas na internet", "Programa antiv√≠rus", "Sistema operacional", "Editor de fotos"], gabarito: 0, dica: "Browser", explicacao: "Um navegador √© um software que permite acessar p√°ginas na internet." },
            
            // ATUALIDADES
            { id: 27, disciplina: "Atualidades", enunciado: "O que √© Desenvolvimento Sustent√°vel?", opcoes: ["Uso dos recursos naturais sem preocupa√ß√£o com o futuro", "Desenvolvimento econ√¥mico que atende √†s necessidades do presente preservando o futuro", "Crescimento econ√¥mico acelerado sem planejamento", "Uso exclusivo dos recursos renov√°veis"], gabarito: 1, dica: "Presente e futuro", explicacao: "Desenvolvimento sustent√°vel atende necessidades presentes sem comprometer o futuro." },
            { id: 28, disciplina: "Atualidades", enunciado: "Qual foi o impacto da pandemia de Covid-19?", opcoes: ["Nenhum impacto relevante", "Profundas altera√ß√µes na sa√∫de e economia global", "Apenas impacto regional espec√≠fico", "Foi superada rapidamente sem efeitos residuais"], gabarito: 1, dica: "Sa√∫de e economia", explicacao: "A Covid-19 teve profundas altera√ß√µes na sa√∫de e economia global." },
            { id: 29, disciplina: "Atualidades", enunciado: "A quem cabe a seguran√ßa p√∫blica no Brasil?", opcoes: ["Apenas √† Uni√£o", "Concorrentemente √† Uni√£o, Estados, Distrito Federal e Munic√≠pios", "Exclusivamente aos munic√≠pios", "Institui√ß√µes privadas"], gabarito: 1, dica: "Responsabilidade compartilhada", explicacao: "A seguran√ßa p√∫blica √© responsabilidade concorrente de Uni√£o, Estados, DF e Munic√≠pios." },
            { id: 30, disciplina: "Atualidades", enunciado: "O que significa a sigla ONU?", opcoes: ["Organiza√ß√£o das Na√ß√µes Unidas", "Organiza√ß√£o Nacional Unida", "Organiza√ß√£o Neutra Universal", "Organiza√ß√£o Nacional √ötil"], gabarito: 0, dica: "United Nations", explicacao: "ONU = Organiza√ß√£o das Na√ß√µes Unidas (United Nations Organization)." },
            { id: 31, disciplina: "Atualidades", enunciado: "O Acordo de Paris √© um tratado internacional para:", opcoes: ["Com√©rcio internacional", "Redu√ß√£o das emiss√µes de gases de efeito estufa", "Combate √† pobreza", "Estabelecimento de direitos trabalhistas"], gabarito: 1, dica: "Mudan√ßa clim√°tica", explicacao: "O Acordo de Paris visa reduzir emiss√µes de gases de efeito estufa." },
            { id: 32, disciplina: "Atualidades", enunciado: "Qual problema relevante da seguran√ßa p√∫blica brasileira?", opcoes: ["Baixa criminalidade", "Superlota√ß√£o carcer√°ria", "Aus√™ncia de Pol√≠cia Penal", "Aus√™ncia de pol√≠ticas p√∫blicas"], gabarito: 1, dica: "Sistema prisional", explicacao: "A superlota√ß√£o carcer√°ria √© um problema grave da seguran√ßa p√∫blica brasileira." },
            
            // √âTICA NO SERVI√áO P√öBLICO
            { id: 33, disciplina: "√âtica no Servi√ßo P√∫blico", enunciado: "Quais os princ√≠pios que comp√µem o LIMPE?", opcoes: ["Legalidade, Imparcialidade, Moralidade, Publicidade e Efici√™ncia", "Liberdade, Igualdade, Moralidade, Poder e √âtica", "Legalidade, Integridade, Moral, Princ√≠pio da Efetividade", "Legalidade, Impessoalidade, M√©rito, Probidade e √âtica"], gabarito: 0, dica: "Princ√≠pios de √©tica", explicacao: "LIMPE = Legalidade, Imparcialidade, Moralidade, Publicidade e Efici√™ncia." },
            { id: 34, disciplina: "√âtica no Servi√ßo P√∫blico", enunciado: "O que √© improbidade administrativa?", opcoes: ["Ato il√≠cito com preju√≠zo ao er√°rio ou viola√ß√£o aos princ√≠pios da administra√ß√£o p√∫blica", "Procedimento legal e √©tico", "Pol√≠tica p√∫blica eficaz", "Conjunto de regras sobre direitos trabalhistas"], gabarito: 0, dica: "Desonestidade", explicacao: "Improbidade administrativa √© ato il√≠cito que prejudica o er√°rio ou viola princ√≠pios da administra√ß√£o." },
            { id: 35, disciplina: "√âtica no Servi√ßo P√∫blico", enunciado: "Um dos deveres do servidor p√∫blico √©:", opcoes: ["Agir com integridade e transpar√™ncia", "Desrespeitar regras para benef√≠cio pr√≥prio", "Promover atos de nepotismo", "N√£o cumprir regulamentos internos"], gabarito: 0, dica: "√âtica e honestidade", explicacao: "O servidor p√∫blico deve agir com integridade e transpar√™ncia sempre." },
            { id: 36, disciplina: "√âtica no Servi√ßo P√∫blico", enunciado: "O sigilo funcional √©:", opcoes: ["Direito do servidor de divulgar informa√ß√µes da institui√ß√£o", "Obriga√ß√£o de guardar segredos de servi√ßo para garantir a seguran√ßa", "Direito de apagar registros oficiais", "Nenhuma das alternativas"], gabarito: 1, dica: "Confidencialidade", explicacao: "Sigilo funcional √© obriga√ß√£o de guardar segredos de servi√ßo para seguran√ßa." },
            { id: 37, disciplina: "√âtica no Servi√ßo P√∫blico", enunciado: "O que deve ser sempre respeitado no servi√ßo p√∫blico?", opcoes: ["Interesses pessoais", "Princ√≠pios √©ticos e legisla√ß√£o vigente", "Privil√©gios de alguns servidores", "Prefer√™ncia a determinados grupos"], gabarito: 1, dica: "√âtica e lei", explicacao: "Devem ser sempre respeitados princ√≠pios √©ticos e a legisla√ß√£o vigente." },
            { id: 38, disciplina: "√âtica no Servi√ßo P√∫blico", enunciado: "O processo administrativo disciplinar visa:", opcoes: ["Apurar irregularidades e aplicar san√ß√µes caso confirmadas", "Recompensar servidores", "Planejar a√ß√µes internas", "Controlar o or√ßamento"], gabarito: 0, dica: "Puni√ß√£o", explicacao: "O processo administrativo disciplinar visa apurar irregularidades e aplicar san√ß√µes se confirmadas." },
            
            // CONHECIMENTOS ESPEC√çFICOS
            { id: 39, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "Qual o princ√≠pio basilar dos Direitos Humanos?", opcoes: ["Dignidade da pessoa humana", "Soberania nacional", "Hierarquia estatal", "Legalidade absoluta"], gabarito: 0, dica: "Dignidade", explicacao: "O princ√≠pio basilar dos Direitos Humanos √© a dignidade da pessoa humana." },
            { id: 40, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "Qual o ano de promulga√ß√£o da Constitui√ß√£o Federal vigente?", opcoes: ["1987", "1988", "1989", "1990"], gabarito: 1, dica: "Constitui√ß√£o Cidad√£", explicacao: "A Constitui√ß√£o Federal vigente foi promulgada em 1988." },
            { id: 41, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "O artigo 5¬∫ da Constitui√ß√£o trata de:", opcoes: ["Organiza√ß√£o dos Poderes", "Direitos e garantias fundamentais", "Pol√≠tica tribut√°ria", "Seguran√ßa P√∫blica"], gabarito: 1, dica: "Direitos fundamentais", explicacao: "O artigo 5¬∫ da CF trata de direitos e garantias fundamentais." },
            { id: 42, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "A seguran√ßa p√∫blica √© dever da:", opcoes: ["Uni√£o, Estados e Munic√≠pios", "Pol√≠cia Federal exclusivamente", "Pol√≠cia Militar", "Minist√©rio da Defesa"], gabarito: 0, dica: "Responsabilidade compartilhada", explicacao: "Seguran√ßa p√∫blica √© dever de Uni√£o, Estados e Munic√≠pios." },
            { id: 43, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "A Lei n¬∫ 9.784/99 regula:", opcoes: ["Processo Civil", "Processo Administrativo Federal", "Processo Penal", "Processo Trabalhista"], gabarito: 1, dica: "Administra√ß√£o p√∫blica", explicacao: "Lei 9.784/99 regula o Processo Administrativo Federal." },
            { id: 44, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "Quem √© respons√°vel pela execu√ß√£o penal?", opcoes: ["O juiz da vara de execu√ß√µes penais", "Minist√©rio P√∫blico", "Tribunal de Justi√ßa", "Pol√≠cia Militar"], gabarito: 0, dica: "Juiz de execu√ß√£o", explicacao: "O juiz da vara de execu√ß√µes penais √© respons√°vel pela execu√ß√£o penal." },
            { id: 45, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "Qual a natureza do crime culposo?", opcoes: ["Intencional", "Sem inten√ß√£o, por neglig√™ncia ou imprud√™ncia", "Contra a lei trabalhista", "Crime doloso"], gabarito: 1, dica: "Neglig√™ncia", explicacao: "Crime culposo √© aquele sem inten√ß√£o, por neglig√™ncia ou imprud√™ncia." },
            { id: 46, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "A pris√£o em flagrante acontece quando:", opcoes: ["O indiv√≠duo √© capturado durante o crime ou logo ap√≥s", "Ap√≥s senten√ßa condenat√≥ria", "Ap√≥s audi√™ncia de cust√≥dia", "Em a√ß√µes meramente administrativas"], gabarito: 0, dica: "Durante o crime", explicacao: "Pris√£o em flagrante √© quando o indiv√≠duo √© capturado durante ou logo ap√≥s o crime." },
            { id: 47, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "A Lei Maria da Penha trata de:", opcoes: ["Direitos dos aposentados", "Viol√™ncia contra a mulher", "Direito penal infantil", "Direitos dos trabalhadores"], gabarito: 1, dica: "Mulher", explicacao: "A Lei Maria da Penha trata de viol√™ncia contra a mulher." },
            { id: 48, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "O Estatuto do Desarmamento √© a Lei n¬∫:", opcoes: ["10.826/2003", "11.343/2006", "9.504/1997", "12.965/2014"], gabarito: 0, dica: "Armas", explicacao: "O Estatuto do Desarmamento √© a Lei n¬∫ 10.826/2003." },
            { id: 49, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "O princ√≠pio da ampla defesa garante:", opcoes: ["Direito de se manifestar em qualquer procedimento judicial ou administrativo", "Direito de defesa em processos criminais apenas", "Direito exclusivo de advogados", "Nenhuma prote√ß√£o legal"], gabarito: 0, dica: "Manifesta√ß√£o", explicacao: "Ampla defesa garante direito de se manifestar em procedimentos judiciais e administrativos." },
            { id: 50, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "A pena de reclus√£o ocorre em crimes:", opcoes: ["Menores e infra√ß√µes administrativas", "Graves previstos em lei penal", "Infra√ß√µes trabalhistas", "Transgress√µes civis"], gabarito: 1, dica: "Crimes graves", explicacao: "Pena de reclus√£o ocorre em crimes graves previstos em lei penal." },
            { id: 51, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "Responsabilidade civil do Estado √©:", opcoes: ["Subjetiva", "Objetiva, segundo o artigo 37 da CF", "Parcial", "Dispens√°vel"], gabarito: 1, dica: "Artigo 37 CF", explicacao: "Responsabilidade civil do Estado √© objetiva, conforme artigo 37 da CF." },
            { id: 52, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "Concurso de pessoas ocorre quando:", opcoes: ["V√°rias pessoas participam de um crime", "S√≥ uma pessoa √© respons√°vel", "Nenhuma responsabilidade", "S√≥ a v√≠tima responde"], gabarito: 0, dica: "M√∫ltiplos autores", explicacao: "Concurso de pessoas √© quando v√°rias pessoas participam de um crime." },
            { id: 53, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "A Lei n¬∫ 13.869/2019 trata sobre:", opcoes: ["Abuso de autoridade", "C√≥digo Civil", "Direitos do consumidor", "Processos administrativos"], gabarito: 0, dica: "Autoridades", explicacao: "Lei 13.869/2019 trata sobre abuso de autoridade." },
            { id: 54, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "O Minist√©rio P√∫blico tem entre suas fun√ß√µes:", opcoes: ["Julgar a√ß√µes penalmente", "Promover a a√ß√£o penal p√∫blica para defesa da ordem jur√≠dica", "Organizar seguran√ßa p√∫blica", "Elaborar pol√≠ticas p√∫blicas"], gabarito: 1, dica: "A√ß√£o penal p√∫blica", explicacao: "MP promove a a√ß√£o penal p√∫blica para defesa da ordem jur√≠dica." },
            { id: 55, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "A Constitui√ß√£o Federal garante os direitos das pessoas privadas de liberdade com base:", opcoes: ["Apenas na Lei de Execu√ß√£o Penal", "Na CF e na LEP", "Apenas em regulamentos internos", "Nenhum direito garantido"], gabarito: 1, dica: "CF e LEP", explicacao: "Direitos garantidos pela CF e Lei de Execu√ß√£o Penal." },
            { id: 56, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "O mutatio legis in sensu √©:", opcoes: ["Altera√ß√£o do entendimento da lei sem mudan√ßa no texto", "Altera√ß√£o do texto legal", "Norma ilegal", "Nenhuma das anteriores"], gabarito: 0, dica: "Interpreta√ß√£o", explicacao: "Mutatio legis in sensu √© altera√ß√£o do entendimento da lei sem mudan√ßa no texto." },
            { id: 57, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "Presta√ß√£o de servi√ßos √† comunidade √© uma pena:", opcoes: ["Restritiva de direitos", "Privativa de liberdade", "De multa", "De advert√™ncia"], gabarito: 0, dica: "Substituta", explicacao: "Presta√ß√£o de servi√ßos √† comunidade √© pena restritiva de direitos." },
            { id: 58, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "O C√≥digo de Processo Penal regula:", opcoes: ["Procedimentos para investiga√ß√£o e julgamento penal", "Direito civil", "Normas administrativas", "Direitos trabalhistas"], gabarito: 0, dica: "Procedimentos penais", explicacao: "CPP regula procedimentos para investiga√ß√£o e julgamento penal." },
            { id: 59, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "Pris√£o tempor√°ria tem por finalidade:", opcoes: ["Assegurar a investiga√ß√£o criminal em casos espec√≠ficos", "Puni√ß√£o definitiva", "Pris√£o por condena√ß√£o", "Nenhuma finalidade"], gabarito: 0, dica: "Investiga√ß√£o", explicacao: "Pris√£o tempor√°ria objetiva assegurar investiga√ß√£o criminal em casos espec√≠ficos." },
            { id: 60, disciplina: "Conhecimentos Espec√≠ficos", enunciado: "Estrat√©gia de seguran√ßa aplicada √† execu√ß√£o penal √© de responsabilidade de:", opcoes: ["Juiz da execu√ß√£o penal e Pol√≠cia Penal", "Minist√©rio P√∫blico", "Tribunal de Contas", "Secretaria de Sa√∫de"], gabarito: 0, dica: "Juiz e Pol√≠cia", explicacao: "Responsabilidade do Juiz da execu√ß√£o penal e Pol√≠cia Penal." }
        ];

        // =====================================================
        // BANCO DE DADOS COMPLETO
        // =====================================================
        
        function gerarQuestoes(tipo) {
            if (tipo === 6) return questoesPPES03;
            
            const questoes = [];
            const disciplinas = {
                1: ["L√≠ngua Portuguesa", "Racioc√≠nio L√≥gico", "Inform√°tica", "Atualidades", "Direito Administrativo", "Direito Penal", "Direito Processual Penal", "Direitos Humanos"],
                2: ["L√≠ngua Portuguesa", "Racioc√≠nio L√≥gico", "Inform√°tica", "Atualidades", "√âtica no Servi√ßo P√∫blico", "Conhecimentos Espec√≠ficos"],
                3: ["L√≠ngua Portuguesa", "Racioc√≠nio L√≥gico", "Inform√°tica", "Atualidades", "√âtica no Servi√ßo P√∫blico", "Conhecimentos Espec√≠ficos"],
                4: ["Direitos Humanos", "Direito Administrativo", "Direito Penal", "Direito Processual Penal", "Conhecimentos Espec√≠ficos"],
                5: ["Direitos Humanos"]
            };

            const templates = {
                "L√≠ngua Portuguesa": [
                    { enunciado: "Qual √© o tema central do texto?", opcoes: ["A", "B", "C", "D"], gabarito: 2, dica: "Leia a ideia principal", explicacao: "Identifique o tema relendo com aten√ß√£o." }
                ],
                "Racioc√≠nio L√≥gico": [
                    { enunciado: "Qual √© 2 + 2?", opcoes: ["3", "4", "5", "6"], gabarito: 1, dica: "Soma b√°sica", explicacao: "2 + 2 = 4" }
                ],
                "Inform√°tica": [
                    { enunciado: "O que √© HTML?", opcoes: ["Linguagem", "Rede", "Arquivo", "Programa"], gabarito: 0, dica: "Linguagem web", explicacao: "HTML √© linguagem de marca√ß√£o para web." }
                ],
                "Atualidades": [
                    { enunciado: "Qual pa√≠s sediou as Olimp√≠adas de 2020?", opcoes: ["Fran√ßa", "Jap√£o", "Brasil", "China"], gabarito: 1, dica: "T√≥quio", explicacao: "Jap√£o sediou as Olimp√≠adas de 2020 (realizada em 2021)." }
                ],
                "Direito Administrativo": [
                    { enunciado: "O que √© ato administrativo?", opcoes: ["Contrato", "Manifesta√ß√£o de vontade", "Lei", "Senten√ßa"], gabarito: 1, dica: "Manifesta√ß√£o", explicacao: "Ato administrativo √© manifesta√ß√£o de vontade da administra√ß√£o." }
                ],
                "Direito Penal": [
                    { enunciado: "O que √© dolo?", opcoes: ["Neglig√™ncia", "Inten√ß√£o", "Imprud√™ncia", "Imper√≠cia"], gabarito: 1, dica: "Inten√ß√£o deliberada", explicacao: "Dolo √© inten√ß√£o de praticar o crime." }
                ],
                "Direito Processual Penal": [
                    { enunciado: "Quando ocorre pris√£o em flagrante?", opcoes: ["Antes do crime", "Durante ou ap√≥s o crime", "Antes da investiga√ß√£o", "Nunca"], gabarito: 1, dica: "Ato do crime", explicacao: "Pris√£o em flagrante ocorre quando apanhado no ato ou logo ap√≥s." }
                ],
                "Direitos Humanos": [
                    { enunciado: "Qual √© o direito humano fundamental?", opcoes: ["Trabalho", "Vida", "Educa√ß√£o", "Sa√∫de"], gabarito: 1, dica: "Mais fundamental", explicacao: "O direito √† vida √© o mais fundamental dos direitos humanos." }
                ],
                "√âtica no Servi√ßo P√∫blico": [
                    { enunciado: "Qual √© um dever √©tico?", opcoes: ["Roubar", "Ser honesto", "Enganar", "Negar"], gabarito: 1, dica: "Honestidade", explicacao: "Ser honesto √© um dever √©tico fundamental." }
                ],
                "Conhecimentos Espec√≠ficos": [
                    { enunciado: "O que regula a LEP?", opcoes: ["Execu√ß√£o penal", "Direito civil", "Administrativo", "Trabalhista"], gabarito: 0, dica: "Execu√ß√£o", explicacao: "LEP regula a execu√ß√£o penal." }
                ]
            };

            const numQuestoes = tipo === 4 ? 36 : 60;
            const discDaTipo = disciplinas[tipo];

            for (let i = 0; i < numQuestoes; i++) {
                const disc = discDaTipo[i % discDaTipo.length];
                const templates_disc = templates[disc] || [{ enunciado: "Quest√£o", opcoes: ["A", "B", "C", "D"], gabarito: 0, dica: "Dica", explicacao: "Explica√ß√£o" }];
                const template = templates_disc[i % templates_disc.length];
                
                questoes.push({
                    id: i + 1,
                    disciplina: disc,
                    enunciado: `${template.enunciado} (Q${i + 1})`,
                    opcoes: template.opcoes,
                    gabarito: template.gabarito,
                    dica: template.dica,
                    explicacao: template.explicacao,
                    simulado: tipo
                });
            }

            return questoes;
        }

        const simulados = {
            1: { nome: "Simulado PPES01", total: 60, questoes: gerarQuestoes(1) },
            2: { nome: "Simulado Amostra PPES 2025", total: 60, questoes: gerarQuestoes(2) },
            3: { nome: "Quest√µes PPES02", total: 60, questoes: gerarQuestoes(3) },
            4: { nome: "Simulado IASES", total: 36, questoes: gerarQuestoes(4) },
            5: { nome: "Simulado Direitos Humanos", total: 30, questoes: gerarQuestoes(5) },
            6: { nome: "Simulado PPES 2025 - 03", total: 60, questoes: gerarQuestoes(6) }
        };

        let simuladoAtual = 0;
        let questaoAtual = 0;
        let respostas = {};
        let marcadas = new Set();
        let tempoInicio = 0;
        let timerInterval = null;
        let questaoRespondiada = false;
        let modo = 'simulado';
        let disciplinaAtualFiltro = 'todos';
        let questoesFiltradas = [];

        function iniciarSimulado(num) {
            simuladoAtual = num;
            questaoAtual = 0;
            respostas = {};
            marcadas = new Set();
            tempoInicio = Date.now();
            questaoRespondiada = false;
            modo = 'simulado';
            questoesFiltradas = simulados[num].questoes;

            document.getElementById('telaPrincipal').classList.add('hidden');
            document.getElementById('telaDisc').classList.add('hidden');
            document.getElementById('quizContainer').classList.remove('hidden');
            document.getElementById('resultadoContainer').classList.remove('ativo');

            iniciarTimer();
            exibirQuestao();
        }

        function abrirDisciplinas() {
            document.getElementById('telaPrincipal').classList.add('hidden');
            document.getElementById('telaDisc').classList.remove('hidden');
            disciplinaAtualFiltro = 'todos';
            montarGridDisciplinas('todos');
        }

        function montarGridDisciplinas(filtro) {
            const todasDisciplinas = new Set();
            let questoesFiltro = [];

            for (let i = 1; i <= 6; i++) {
                simulados[i].questoes.forEach(q => todasDisciplinas.add(q.disciplina));
            }

            if (filtro === 'todos') {
                for (let i = 1; i <= 6; i++) {
                    questoesFiltro = questoesFiltro.concat(simulados[i].questoes);
                }
            } else {
                questoesFiltro = simulados[filtro].questoes;
            }

            const html = Array.from(todasDisciplinas)
                .sort()
                .map(disc => {
                    const qtd = questoesFiltro.filter(q => q.disciplina === disc).length;
                    return `
                        <div class="card-disciplina" onclick="iniciarPorDisciplina('${disc}', ${filtro === 'todos' ? 'null' : filtro})">
                            <h3>üìñ ${disc}</h3>
                            <div class="info">
                                <strong>${qtd} Quest√µes</strong>
                            </div>
                            <button class="btn btn-disciplina">ESTUDAR</button>
                        </div>
                    `;
                })
                .join('');

            document.getElementById('gridDisciplinas').innerHTML = html;
        }

        function filtrarDisciplina(num) {
            document.querySelectorAll('.filtro-btn').forEach(b => b.classList.remove('ativo'));
            event.target.classList.add('ativo');
            disciplinaAtualFiltro = num;
            montarGridDisciplinas(num);
        }

        function iniciarPorDisciplina(disc, simuladoFiltro) {
            simuladoAtual = simuladoFiltro || 1;
            questaoAtual = 0;
            respostas = {};
            marcadas = new Set();
            tempoInicio = Date.now();
            questaoRespondiada = false;
            modo = 'disciplina';

            if (disciplinaAtualFiltro === 'todos') {
                // Usar Set para eliminar quest√µes repetidas
                const questoesSet = new Set();
                const questoesUnicas = [];

                for (let i = 1; i <= 6; i++) {
                    simulados[i].questoes.filter(q => q.disciplina === disc).forEach(q => {
                        const chaveUnica = JSON.stringify(q); // Cria chave √∫nica baseada na quest√£o
                        if (!questoesSet.has(chaveUnica)) {
                            questoesSet.add(chaveUnica);
                            questoesUnicas.push(q);
                        }
                    });
                }
                questoesFiltradas = questoesUnicas;
            } else {
                questoesFiltradas = simulados[simuladoAtual].questoes.filter(q => q.disciplina === disc);
            }

            if (questoesFiltradas.length === 0) {
                alert('Nenhuma quest√£o encontrada!');
                return;
            }

            document.getElementById('telaDisc').classList.add('hidden');
            document.getElementById('quizContainer').classList.remove('hidden');
            document.getElementById('resultadoContainer').classList.remove('ativo');

            iniciarTimer();
            exibirQuestao();
        }

        function exibirQuestao() {
            const q = questoesFiltradas[questaoAtual];

            if (!q) {
                alert('ERRO: Quest√£o n√£o encontrada!');
                return;
            }

            document.getElementById('numQuestao').textContent = questaoAtual + 1;
            document.getElementById('totalQuestoes').textContent = questoesFiltradas.length;
            document.getElementById('disciplinaAtual').textContent = q.disciplina;
            document.getElementById('enunciado').textContent = q.enunciado;

            const opcoes = document.getElementById('opcoes');
            opcoes.innerHTML = '';

            q.opcoes.forEach((opcao, idx) => {
                const div = document.createElement('div');
                div.className = 'opcao';
                div.textContent = `${String.fromCharCode(65 + idx)}) ${opcao}`;
                div.onclick = () => selecionarOpcao(idx);
                if (respostas[questaoAtual] === idx) {
                    div.classList.add('selecionada');
                }
                opcoes.appendChild(div);
            });

            document.getElementById('explicacao').classList.remove('ativa');
            document.getElementById('dica').classList.remove('ativa');
            document.getElementById('dica').textContent = '';
            document.getElementById('explicacao').textContent = '';
            
            questaoRespondiada = respostas.hasOwnProperty(questaoAtual);
            atualizarProgresso();
            atualizarBotoes();
        }

        function selecionarOpcao(idx) {
            const q = questoesFiltradas[questaoAtual];
            
            respostas[questaoAtual] = idx;
            questaoRespondiada = true;

            const opcoes = document.querySelectorAll('.opcao');
            opcoes.forEach((op, i) => {
                op.classList.remove('selecionada', 'correta', 'incorreta');
                op.disabled = true;

                if (i === q.gabarito) {
                    op.classList.add('correta');
                }
                if (i === idx && idx !== q.gabarito) {
                    op.classList.add('incorreta');
                }
            });

            document.getElementById('explicacao').textContent = q.explicacao;
            document.getElementById('explicacao').classList.add('ativa');
            
            atualizarBotoes();
        }

        function mostrarDica() {
            const q = questoesFiltradas[questaoAtual];
            document.getElementById('dica').textContent = 'üí° ' + q.dica;
            document.getElementById('dica').classList.add('ativa');
        }

        function questaoProxima() {
            if (!questaoRespondiada) {
                alert('‚ö†Ô∏è Responda antes de avan√ßar!');
                return;
            }
            
            if (questaoAtual < questoesFiltradas.length - 1) {
                questaoAtual++;
                exibirQuestao();
            } else {
                alert('‚úÖ √öltima quest√£o!');
            }
        }

        function questaoAnterior() {
            if (questaoAtual > 0) {
                questaoAtual--;
                exibirQuestao();
            }
        }

        function marcarParaRevisao() {
            if (marcadas.has(questaoAtual)) {
                marcadas.delete(questaoAtual);
                alert('Desmarcado');
            } else {
                marcadas.add(questaoAtual);
                alert('‚≠ê Marcado!');
            }
            atualizarBotoes();
        }

        function finalizarSimulado() {
            if (confirm('Finalizar simulado?')) {
                clearInterval(timerInterval);
                mostrarResultados();
            }
        }

        function mostrarResultados() {
            let acertos = 0;
            let erros = [];
            let listaAcertos = [];

            questoesFiltradas.forEach((q, idx) => {
                if (respostas[idx] === q.gabarito) {
                    acertos++;
                    listaAcertos.push(idx);
                } else if (respostas.hasOwnProperty(idx)) {
                    erros.push(idx);
                }
            });

            const pontuacao = Math.round((acertos / questoesFiltradas.length) * 100);
            const tempoDecorrido = Math.floor((Date.now() - tempoInicio) / 1000);

            document.getElementById('totalAcertos').textContent = acertos;
            document.getElementById('totalErros').textContent = questoesFiltradas.length - acertos;
            document.getElementById('pontuacao').textContent = pontuacao + '%';
            document.getElementById('tempoTotal').textContent = formatarTempo(tempoDecorrido);

            let mensagem = pontuacao >= 80 ? 'üèÜ Excelente!' : pontuacao >= 60 ? 'üëç Bom!' : pontuacao >= 40 ? 'üìö Estude mais!' : 'üí™ Aprofunde!';
            document.getElementById('mensagemDesempenho').textContent = mensagem;

            document.getElementById('listaAcertos').innerHTML = listaAcertos.map(idx => `<div class="questao-item acerto">‚úÖ Q${idx + 1} - ${questoesFiltradas[idx].disciplina}</div>`).join('') || '<p>Nenhuma acertada</p>';
            document.getElementById('listaErros').innerHTML = erros.map(idx => `<div class="questao-item erro">‚ùå Q${idx + 1} - ${questoesFiltradas[idx].disciplina}</div>`).join('') || '<p>Nenhuma errada</p>';
            document.getElementById('listaRevisao').innerHTML = Array.from(marcadas).map(idx => `<div class="questao-item">‚≠ê Q${idx + 1} - ${questoesFiltradas[idx].disciplina}</div>`).join('') || '<p>Nenhuma marcada</p>';

            document.getElementById('quizContainer').classList.add('hidden');
            document.getElementById('resultadoContainer').classList.add('ativo');
        }

        function iniciarTimer() {
            let tempo = 14400;
            timerInterval = setInterval(() => {
                if (tempo <= 0) {
                    clearInterval(timerInterval);
                    alert('‚è∞ Tempo encerrado!');
                    finalizarSimulado();
                } else {
                    tempo--;
                    document.getElementById('timer').textContent = formatarTempo(tempo);
                }
            }, 1000);
        }

        function formatarTempo(segundos) {
            const horas = Math.floor(segundos / 3600);
            const minutos = Math.floor((segundos % 3600) / 60);
            const secs = segundos % 60;
            return `${String(horas).padStart(2, '0')}:${String(minutos).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }

        function atualizarProgresso() {
            const percentual = Math.round(((questaoAtual + 1) / questoesFiltradas.length) * 100);
            document.getElementById('progressoBar').style.width = percentual + '%';
            document.getElementById('percentualProgresso').textContent = percentual + '%';
        }

        function atualizarBotoes() {
            document.getElementById('btnMarcar').textContent = marcadas.has(questaoAtual) ? '‚≠ê Desmrc' : '‚≠ê Marcar';
        }

        function voltarMenu() {
            clearInterval(timerInterval);
            document.getElementById('telaPrincipal').classList.remove('hidden');
            document.getElementById('telaDisc').classList.add('hidden');
            document.getElementById('quizContainer').classList.add('hidden');
            document.getElementById('resultadoContainer').classList.remove('ativo');
        }

        function cancelarSimulado() {
            if (confirm('Cancelar simulado?')) voltarMenu();
        }

        function abrirAba(aba) {
            document.querySelectorAll('.aba-conteudo').forEach(el => el.classList.remove('ativa'));
            document.querySelectorAll('.aba-btn').forEach(el => el.classList.remove('ativa'));
            document.getElementById(aba).classList.add('ativa');
            event.target.classList.add('ativa');
        }

        function verDesempenho() {
            alert('üìä Dashboard em desenvolvimento!');
        }

        function mostrarAjuda() {
            alert('‚ÑπÔ∏è PROJETO SABER:\n\n1. Escolha um simulado ou disciplina\n2. Responda as quest√µes\n3. Use dicas üí° se precisar\n4. Marque ‚≠ê para revisar\n5. Veja resultados\n\nBom estudo! üöÄ');
        }
    </script>
</body>
</html>
